(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1156],{1156:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomePageModule:()=>h});var i=n(8583),r=n(665),o=n(3083),s=n(3318),a=n(4762),c=n(639),l=n(5901),g=n(3071),d=n(5970);function u(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",4),c.TgZ(1,"ion-card"),c.TgZ(2,"ion-card-content"),c._UZ(3,"ion-img",5),c.TgZ(4,"ion-button",6),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw().edit(t.template_name)}),c._uU(5,"Edit"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-label",7),c._uU(7),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(3),c.Q6J("src","data:image/png;base64, "+e.template_name),c.xp6(4),c.Oqu(e.image_name)}}const m=[{path:"",component:(()=>{class e{constructor(e,t,n,i,r){this.tokenStorage=e,this.userService=t,this.router=n,this._alertController=i,this._alertService=r}ngOnInit(){this.getTemplates(),this.getUser()}getUser(){let e=this.tokenStorage.DecodeToken();this.username=e.username,this.user_id=e.user_id}edit(e){return(0,a.mG)(this,void 0,void 0,function*(){yield this.userService.checkReferal(this.user_id).subscribe(t=>{this.result=t,null==this.result?this.presentAlertPrompt(e):(this.userService.addImageToStorage(e),this.router.navigate(["/editimage"]))})})}presentAlertPrompt(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this._alertController.create({header:"Enter Referal Code",inputs:[{name:"code",type:"number",placeholder:"Referal Code"}],buttons:[{text:"Cancel"},{text:"Ok",handler:t=>{this.userService.assignReferal(this.user_id,t.code).subscribe(t=>{1==t?(this.userService.addImageToStorage(e),this.router.navigate(["/editimage"])):this._alertService.presentToast(t.error,"danger")})}}]});yield t.present()})}getTemplates(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.userService.getTemplate().subscribe(e=>{this.templates=e.template})})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l.i),c.Y36(g.K),c.Y36(s.F0),c.Y36(o.Br),c.Y36(d.c))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-home"]],decls:11,vars:2,consts:[["slot","start"],["slot","end"],[1,"username"],["class","grid",4,"ngFor","ngForOf"],[1,"grid"],[3,"src"],["color","light",3,"click"],["id","template_name"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c._UZ(3,"ion-menu-button"),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Home"),c.qZA(),c.TgZ(6,"ion-chip",1),c.TgZ(7,"ion-label",2),c._uU(8),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"ion-content"),c.YNc(10,u,8,2,"div",3),c.qZA()),2&e&&(c.xp6(8),c.hij("Welcome ",t.username,""),c.xp6(2),c.Q6J("ngForOf",t.templates))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.wd,o.hM,o.Q$,o.W2,i.sg,o.PM,o.FN,o.Xz,o.YG],styles:[".grid[_ngcontent-%COMP%]{margin:1rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.grid[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-self:center}.grid[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{opacity:.6;z-index:1;height:350px}.grid[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;z-index:2;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}.grid[_ngcontent-%COMP%]   #template_name[_ngcontent-%COMP%]{text-align:center}ion-title[_ngcontent-%COMP%]{color:#1000aa}ion-label[_ngcontent-%COMP%]{color:#414040}ion-chip[_ngcontent-%COMP%]{padding:1rem;background-color:#d4cbff}ion-chip[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:1rem}"]}),e})()}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(m)],s.Bz]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,r.u5,o.Pc,p]]}),e})()}}]);