(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8717],{8717:(e,n,t)=>{"use strict";t.r(n),t.d(n,{DashboardPageModule:()=>_});var i=t(8583),s=t(665),o=t(3083),a=t(3318),r=t(639),c=t(5901),g=t(7501),l=t(5970);function d(e,n){if(1&e&&(r.TgZ(0,"ion-select-option",18),r._uU(1),r.qZA()),2&e){const e=n.$implicit;r.s9C("value",e.business_id),r.xp6(1),r.Oqu(e.business_name)}}function u(e,n){if(1&e&&r._UZ(0,"ion-img",19),2&e){const e=r.oxw();r.Q6J("src",e.template_url)}}function Z(e,n){if(1&e&&(r.TgZ(0,"ion-select-option",18),r._uU(1),r.qZA()),2&e){const e=n.$implicit;r.s9C("value",e.business_id),r.xp6(1),r.Oqu(e.business_name)}}function p(e,n){if(1&e&&(r.TgZ(0,"ion-select-option",18),r._uU(1),r.qZA()),2&e){const e=n.$implicit;r.s9C("value",e.business_id),r.xp6(1),r.Oqu(e.business_name)}}function m(e,n){if(1&e){const e=r.EpF();r.TgZ(0,"ion-item",20),r.TgZ(1,"ion-chip"),r._uU(2),r.qZA(),r.TgZ(3,"ion-chip"),r._uU(4),r.qZA(),r.TgZ(5,"ion-icon",21),r.NdJ("click",function(){const n=r.CHM(e).$implicit;return r.oxw().deleteReferal(n.id)}),r.qZA(),r.qZA()}if(2&e){const e=n.$implicit;r.xp6(2),r.Oqu(e.code),r.xp6(2),r.Oqu(e.assigned_status)}}const f=[{path:"",component:(()=>{class e{constructor(e,n,t,i){this.tokenStorage=e,this.adminService=n,this.alertService=t,this.router=i}ngOnInit(){this.getCategory(),this.getReferals()}getReferals(){this.adminService.getReferals().subscribe(e=>{this.referals=e})}deleteReferal(e){this.adminService.deleteReferal(e).subscribe(e=>{this.referals=e})}generateReferal(){this.adminService.generateReferal().subscribe(e=>{this.referals=e})}onSelectFile(e){if(e.target.files&&e.target.files[0]){let n=new FileReader;this.template_name=e.target.files[0].name,n.readAsDataURL(e.target.files[0]),n.onload=e=>{this.template_url=e.target.result}}}onSubmit(){this.adminService.addTemplate(this.template_url,this.template_name,this.business_id1,this.image_name).subscribe(e=>{this.alertService.presentToast(e.msg,"success"),this.template_url="",this.image_name="",document.querySelector("ion-input").value="",this.business_id1=null})}addCategory(){this.adminService.addBusiness(this.category).subscribe(e=>{this.alertService.presentToast(e.msg,"success"),this.category=""})}addMessage(){this.adminService.addMessage(1,this.business_id2,this.Message).subscribe(e=>{this.alertService.presentToast(e.msg,"success"),this.Message="",document.querySelector("ion-input").value="",this.business_id2=null})}addService(){this.adminService.addService(1,this.business_id3,this.service).subscribe(e=>{this.alertService.presentToast(e.msg,"success"),this.service="",document.querySelector("ion-input").value="",this.business_id3=null})}getCategory(){this.adminService.getCategory().subscribe(e=>{this.business_category=e.business})}logout(){this.tokenStorage.logout(),this.router.navigateByUrl("/",{replaceUrl:!0})}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(c.i),r.Y36(g.l),r.Y36(l.c),r.Y36(a.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-dashboard"]],decls:78,vars:12,consts:[["slot","end","fill","outline",3,"click"],["name","log-out"],["position","floating"],["type","text","name","category",3,"ngModel","ngModelChange"],[3,"click"],[1,"wrapper"],["name","business_id1",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","image_name",3,"ngModel","ngModelChange"],["type","file","accept","image/*",3,"change"],[3,"src",4,"ngIf"],["name","business_id2",3,"ngModel","ngModelChange"],["type","text","name","Message",3,"ngModel","ngModelChange"],["name","business_id3",3,"ngModel","ngModelChange"],["type","text","name","service",3,"ngModel","ngModelChange"],["id","referal"],["id","header"],["id","content",4,"ngFor","ngForOf"],[3,"value"],[3,"src"],["id","content"],["name","trash","color","danger",3,"click"]],template:function(e,n){1&e&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-title"),r._uU(3,"Welcome To Dashboard"),r.qZA(),r.TgZ(4,"ion-button",0),r.NdJ("click",function(){return n.logout()}),r._UZ(5,"ion-icon",1),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"ion-content"),r.TgZ(7,"ion-card"),r.TgZ(8,"ion-card-header"),r._uU(9,"Add Category"),r.qZA(),r.TgZ(10,"ion-card-content"),r.TgZ(11,"ion-item"),r.TgZ(12,"ion-label",2),r._uU(13,"Add Category"),r.qZA(),r.TgZ(14,"ion-input",3),r.NdJ("ngModelChange",function(e){return n.category=e}),r.qZA(),r.qZA(),r.TgZ(15,"ion-button",4),r.NdJ("click",function(){return n.addCategory()}),r._uU(16,"Add"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"ion-card"),r.TgZ(18,"ion-card-header"),r._uU(19,"Add Template"),r.qZA(),r.TgZ(20,"div",5),r.TgZ(21,"ion-item"),r.TgZ(22,"ion-label",2),r._uU(23,"Bussiness Category"),r.qZA(),r.TgZ(24,"ion-select",6),r.NdJ("ngModelChange",function(e){return n.business_id1=e}),r.YNc(25,d,2,2,"ion-select-option",7),r.qZA(),r.qZA(),r.TgZ(26,"ion-item"),r.TgZ(27,"ion-label",2),r._uU(28,"Template Name"),r.qZA(),r.TgZ(29,"ion-input",8),r.NdJ("ngModelChange",function(e){return n.image_name=e}),r.qZA(),r.qZA(),r.TgZ(30,"ion-input",9),r.NdJ("change",function(e){return n.onSelectFile(e)}),r.qZA(),r.YNc(31,u,1,1,"ion-img",10),r.TgZ(32,"ion-button",4),r.NdJ("click",function(){return n.onSubmit()}),r._uU(33,"Upload"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"ion-card"),r.TgZ(35,"ion-card-header"),r._uU(36,"Add Default Message"),r.qZA(),r.TgZ(37,"ion-card-content"),r.TgZ(38,"ion-item"),r.TgZ(39,"ion-label",2),r._uU(40,"Bussiness Category"),r.qZA(),r.TgZ(41,"ion-select",11),r.NdJ("ngModelChange",function(e){return n.business_id2=e}),r.YNc(42,Z,2,2,"ion-select-option",7),r.qZA(),r.qZA(),r.TgZ(43,"ion-item"),r.TgZ(44,"ion-label",2),r._uU(45,"Default Message"),r.qZA(),r.TgZ(46,"ion-input",12),r.NdJ("ngModelChange",function(e){return n.Message=e}),r.qZA(),r.qZA(),r.TgZ(47,"ion-button",4),r.NdJ("click",function(){return n.addMessage()}),r._uU(48,"Add"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(49,"ion-card"),r.TgZ(50,"ion-card-header"),r._uU(51,"Add Default Services"),r.qZA(),r.TgZ(52,"ion-card-content"),r.TgZ(53,"ion-item"),r.TgZ(54,"ion-label",2),r._uU(55,"Bussiness Category"),r.qZA(),r.TgZ(56,"ion-select",13),r.NdJ("ngModelChange",function(e){return n.business_id3=e}),r.YNc(57,p,2,2,"ion-select-option",7),r.qZA(),r.qZA(),r.TgZ(58,"ion-item"),r.TgZ(59,"ion-label",2),r._uU(60,"Default Services"),r.qZA(),r.TgZ(61,"ion-input",14),r.NdJ("ngModelChange",function(e){return n.service=e}),r.qZA(),r.qZA(),r.TgZ(62,"ion-button",4),r.NdJ("click",function(){return n.addService()}),r._uU(63,"Add"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(64,"ion-card",15),r.TgZ(65,"ion-card-header"),r.TgZ(66,"p"),r._uU(67,"Generate Referal"),r.qZA(),r.TgZ(68,"ion-button",4),r.NdJ("click",function(){return n.generateReferal()}),r._uU(69,"Generate Referal"),r.qZA(),r.qZA(),r.TgZ(70,"ion-card-content"),r.TgZ(71,"ion-item",16),r.TgZ(72,"ion-chip"),r.TgZ(73,"ion-label"),r._uU(74,"Referal Code"),r.qZA(),r.TgZ(75,"ion-label"),r._uU(76,"Assigned Status"),r.qZA(),r.qZA(),r.qZA(),r.YNc(77,m,6,2,"ion-item",17),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(14),r.Q6J("ngModel",n.category),r.xp6(10),r.Q6J("ngModel",n.business_id1),r.xp6(1),r.Q6J("ngForOf",n.business_category),r.xp6(4),r.Q6J("ngModel",n.image_name),r.xp6(2),r.Q6J("ngIf",n.template_url),r.xp6(10),r.Q6J("ngModel",n.business_id2),r.xp6(1),r.Q6J("ngForOf",n.business_category),r.xp6(4),r.Q6J("ngModel",n.Message),r.xp6(10),r.Q6J("ngModel",n.business_id3),r.xp6(1),r.Q6J("ngForOf",n.business_category),r.xp6(4),r.Q6J("ngModel",n.service),r.xp6(16),r.Q6J("ngForOf",n.referals))},directives:[o.Gu,o.sr,o.wd,o.YG,o.gu,o.W2,o.PM,o.Zi,o.FN,o.Ie,o.Q$,o.pK,o.j9,s.JJ,s.On,o.t9,o.QI,i.sg,i.O5,o.hM,o.n0,o.Xz],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.4rem}.wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:.4rem 0}.wrapper[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{padding:.3rem}#referal[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:.2rem;display:flex;flex-direction:row;justify-content:space-evenly}#referal[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:2rem}#referal[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}#referal[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   #content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[a.Bz.forChild(f)],a.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,s.u5,o.Pc,h]]}),e})()}}]);